
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A PostgreSQL extension adding GraphQL support">
      
      
      
        <link rel="canonical" href="https://supabase.github.io/pg_graphql/supabase/">
      
      
        <link rel="prev" href="../configuration/">
      
      
        <link rel="next" href="../usage_with_relay/">
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.8">
    
    
      
        <title>Supabase - pg_graphql</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-green">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="pg_graphql" class="md-header__button md-logo" aria-label="pg_graphql" data-md-component="logo">
      
  <img src="../assets/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pg_graphql
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Supabase
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/supabase/pg_graphql" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    supabase/pg_graphql
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pg_graphql" class="md-nav__button md-logo" aria-label="pg_graphql" data-md-component="logo">
      
  <img src="../assets/favicon.ico" alt="logo">

    </a>
    pg_graphql
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/supabase/pg_graphql" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    supabase/pg_graphql
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sql_interface/" class="md-nav__link">
        SQL Interface
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        API
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../views/" class="md-nav__link">
        Views
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../computed_fields/" class="md-nav__link">
        Computed Fields
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        Security
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Supabase
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Supabase
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav" aria-label="API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supabase-studio" class="md-nav__link">
    Supabase Studio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-request" class="md-nav__link">
    HTTP Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    cURL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supabase-js" class="md-nav__link">
    supabase-js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphiql" class="md-nav__link">
    GraphiQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-management" class="md-nav__link">
    Version Management
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-development" class="md-nav__link">
    Local Development
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#term-reference" class="md-nav__link">
    Term Reference
  </a>
  
    <nav class="md-nav" aria-label="Term Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-reference-project_ref" class="md-nav__link">
    Project Reference (PROJECT_REF)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-key-api_key" class="md-nav__link">
    API Key (API_KEY)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage_with_relay/" class="md-nav__link">
        Usage with Relay
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../example_schema/" class="md-nav__link">
        Example Schema
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API
  </a>
  
    <nav class="md-nav" aria-label="API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supabase-studio" class="md-nav__link">
    Supabase Studio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-request" class="md-nav__link">
    HTTP Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    cURL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supabase-js" class="md-nav__link">
    supabase-js
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphiql" class="md-nav__link">
    GraphiQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-management" class="md-nav__link">
    Version Management
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-development" class="md-nav__link">
    Local Development
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#term-reference" class="md-nav__link">
    Term Reference
  </a>
  
    <nav class="md-nav" aria-label="Term Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-reference-project_ref" class="md-nav__link">
    Project Reference (PROJECT_REF)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-key-api_key" class="md-nav__link">
    API Key (API_KEY)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Supabase</h1>

<p>The Supabase GraphQL API is automatically reflected from your database's schema using <a href="https://github.com/supabase/pg_graphql">pg_graphql</a>. It supports:</p>
<ul>
<li>Basic CRUD operations (Create/Read/Update/Delete)</li>
<li>Support for Tables, Views, Materialized Views, and Foreign Tables</li>
<li>Arbitrarily deep relationships among tables/views</li>
<li>User defined computed fields</li>
<li>Postgres' security model - including Row Level Security, Roles, and Grants</li>
</ul>
<p>All requests resolve in a single round-trip leading to fast response times and high throughput.</p>
<p>If you haven't created a Supabase project, do that <a href="https://database.new">here</a> so you can follow along with the guide.</p>
<h2 id="api">API</h2>
<p>If you're new to GraphQL or Supabase, we strongly recommend starting with Supabase GraphQL by following the <a href="#supabase-studio">Supabase Studio guide</a>.</p>
<p>Fore more experienced users, or when you're ready to productionize your application, access the API using <a href="#supabase-js">supabase-js</a>, <a href="#connecting-graphiql">GraphiQL</a>, or any HTTP client, for example <a href="#curl">cURL</a>.</p>
<h3 id="supabase-studio">Supabase Studio</h3>
<p>The easiest way to make a GraphQL request with Supabase is to use <a href="https://app.supabase.com/project/_/api/graphiql">Supabase Studio's builtin GraphiQL IDE</a>.
You can access GraphiQL <a href="https://app.supabase.com/project/_/api/graphiql">here</a> by selecting the relevant project. Alternatively, navigate there within Studio at <code>API Docs &gt; GraphQL &gt; GraphiQL</code>.</p>
<p><img alt="graphiql" src="../assets/supabase_graphiql.png" /></p>
<p>Type queries in the central query editor and use the green icon to submit requests to the server. Results are shown in the output display to the right of the editor.</p>
<p>To explore the API visually, select the docs icon shown below and navigate through each type to see how they connect to the Graph.</p>
<p><img alt="graphiql" src="../assets/supabase_graphiql_explore.png" /></p>
<p>pg_graphql mirrors the structure of the project's SQL schema in the GraphQL API. If your project is new and empty, the GraphQL API will be empty as well, with the exception of basic introspection types. For a more interesting result, go to the SQL or table editor and create a table.</p>
<p><img alt="graphiql" src="../assets/supabase_sql_editor.png" /></p>
<p>Head back to GraphiQL to see the new table reflected in your GraphQL API's Query and Mutation types.</p>
<p><img alt="graphiql" src="../assets/supabase_graphiql_query_table.png" /></p>
<p>If you'd like your type and field names to match the GraphQL convention of <code>PascalCase</code> for types and <code>camelCase</code> for fields, check out the <a href="/pg_graphql/configuration/#inflection">pg_graphql inflection guide</a>.</p>
<h3 id="http-request">HTTP Request</h3>
<p>To access the GraphQL API over HTTP, first collect your <a href="#project-reference-project_ref">project reference</a> and <a href="#api-key-api_key">API Key</a>.</p>
<h3 id="curl">cURL</h3>
<p>To hit the Supabase GraphQL API using cURL, submit a <code>POST</code> request to your GraphQL API's URL shown below, substituting in your <a href="#project-reference-project_ref">PROJECT_REF</a> and passing the project's <a href="#api-key-api_key">API_KEY</a> as the <code>apiKey</code> header:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>https://&lt;PROJECT_REF&gt;.supabase.co/graphql/v1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-H<span class="w"> </span><span class="s1">&#39;apiKey: &lt;API_KEY&gt;&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--data-raw<span class="w"> </span><span class="s1">&#39;{&quot;query&quot;: &quot;{ accountCollection(first: 1) { edges { node { id } } } }&quot;, &quot;variables&quot;: {}}&#39;</span>
</code></pre></div></td></tr></table></div>
<p>In that example, the GraphQL <code>query</code> is
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{</span>
  <span class="k">accountCollection</span><span class="p">(</span>first: <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">edges</span> <span class="p">{</span>
      <span class="k">node</span> <span class="p">{</span>
        <span class="k">id</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>and there are no <code>variables</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{}</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="supabase-js">supabase-js</h3>
<p>The JS ecosystem supports multiple prominent GraphQL frameworks. <a href="https://supabase.com/docs/reference/javascript/introduction">supabase-js</a> is unopinionated about your GraphQL tooling and can integrate with all of them.</p>
<p>For an example integration, check out the <a href="/pg_graphql/usage_with_relay">Relay guide</a>, complete with Supabase Auth support.</p>
<h3 id="graphiql">GraphiQL</h3>
<p>If you'd prefer to connect to Supabase GraphQL using an external IDE like GraphiQL, save the HTML snippet below as <code>supabase_graphiql.html</code> and open it in your browser. Be sure to substitute in your <a href="#project-reference-project_ref">PROJECT_REF</a> and <a href="#api-key-api_key">API_KEY</a> beneath the <code>EDIT BELOW</code> comment:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>GraphiQL<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/graphiql/2.4.7/graphiql.css&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;margin: 0;&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;graphiql&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;height: 100vh;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">crossorigin</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/react@18/umd/react.production.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">crossorigin</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/react-dom@18/umd/react-dom.production.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span>
      <span class="na">crossorigin</span>
      <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/graphiql/2.4.7/graphiql.js&quot;</span>
    <span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="w">      </span><span class="c1">////////////////</span>
<span class="w">      </span><span class="c1">// EDIT BELOW //</span>
<span class="w">      </span><span class="c1">////////////////</span>

<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">fetcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">GraphiQL</span><span class="p">.</span><span class="nx">createFetcher</span><span class="p">({</span>
<span class="w">        </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;https://&lt;PROJECT_REF&gt;.supabase.co/graphql/v1&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s2">&quot;apiKey&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&lt;API_KEY&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">      </span><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
<span class="w">        </span><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">GraphiQL</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">fetcher</span><span class="o">:</span><span class="w"> </span><span class="nx">fetcher</span><span class="w"> </span><span class="p">}),</span>
<span class="w">        </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;graphiql&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div></td></tr></table></div>
<h2 id="version-management">Version Management</h2>
<p>To maximize stability, you are in control of when to upgrade your GraphQL API.
To see which version of pg_graphql you have, and the highest upgrade version available, execute:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">pg_available_extensions</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pg_graphql&#39;</span>
</code></pre></div></td></tr></table></div>
<p>Which returns a table, for example:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>default_version</th>
<th>installed_version</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>pg_graphql</td>
<td>1.2.0</td>
<td>1.1.0</td>
<td>GraphQL support</td>
</tr>
</tbody>
</table>
<p>The <code>default_version</code> is the highest version available on your database. The <code>installed_version</code> is the version currently enabled in your database.
If the two differ, as in the example, you can upgrade your installed version by running:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">drop</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">pg_graphql</span><span class="p">;</span><span class="w">   </span><span class="c1">-- drop version 1.1.0</span>
<span class="k">create</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">pg_graphql</span><span class="p">;</span><span class="w"> </span><span class="c1">-- install default version 1.2.0</span>
</code></pre></div></td></tr></table></div>
<p>To upgrade your GraphQL API with 0 downtime.</p>
<p>When making a decision to upgrade, you can review features of the upgraded version in the <a href="/pg_graphql/changelog/">changelog</a>.</p>
<p>Always test a new version of pg_graphql extensively on a development or staging instance before updating your production instance. pg_graphql follows SemVer, which makes API backwards compatibility relatively safe for minor and patch updates. Even so, it's critical to verify that changes do not negatively impact the specifics of your project's API in other ways, e.g. requests/sec or CPU load.</p>
<h2 id="local-development">Local Development</h2>
<p>When starting a local project through the <a href="https://supabase.com/docs/guides/cli">Supabase CLI</a>, the output of <code>supabase start</code> provides the information needed to call the GraphQL API directly. You can also use the Supabase Studio url to access <a href="https://app.supabase.com/project/_/api/graphiql">the builtin GraphiQL IDE</a>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code>&gt;<span class="w"> </span>supabase<span class="w"> </span>start
...

Started<span class="w"> </span>supabase<span class="w"> </span><span class="nb">local</span><span class="w"> </span>development<span class="w"> </span>setup.

<span class="w">     </span>GraphQL<span class="w"> </span>URL:<span class="w"> </span>http://localhost:54321/graphql/v1<span class="w">  </span>&lt;--<span class="w"> </span>GraphQL<span class="w"> </span>endpoint
<span class="w">          </span>DB<span class="w"> </span>URL:<span class="w"> </span>...
<span class="w">      </span>Studio<span class="w"> </span>URL:<span class="w"> </span>http://localhost:54323<span class="w">             </span>&lt;--<span class="w"> </span>Supabase<span class="w"> </span>Studio
<span class="w">    </span>Inbucket<span class="w"> </span>URL:<span class="w"> </span>...
<span class="w">      </span>JWT<span class="w"> </span>secret:<span class="w"> </span>...
<span class="w">        </span>anon<span class="w"> </span>key:<span class="w"> </span>eyJhbGciOiJIUzI1...&lt;truncated&gt;<span class="w">     </span>&lt;--<span class="w"> </span>API_KEY
service_role<span class="w"> </span>key:<span class="w"> </span>...
</code></pre></div></td></tr></table></div>
<h2 id="term-reference">Term Reference</h2>
<h3 id="project-reference-project_ref">Project Reference (PROJECT_REF)</h3>
<p>Your Supabase project reference or PROJECT_REF is a 20 digit unique identifier for your project, for example <code>bvykdyhlwawojivopztl</code>.
The project reference is used throughout your supabase application including the project's API URL. You can find the project reference in by logging
in to Supabase Studio and navigating to <code>Settings &gt; General &gt; Project Settings &gt; Reference ID</code></p>
<p><img alt="project_ref" src="../assets/supabase_project_ref.png" /></p>
<h3 id="api-key-api_key">API Key (API_KEY)</h3>
<p>Your Supabase API Key is a public value that must be sent with every API request. The key is visible in Supabase Studio at <code>Settings &gt; API &gt; Project API keys</code></p>
<p><img alt="project_ref" src="../assets/supabase_api_key.png" /></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>